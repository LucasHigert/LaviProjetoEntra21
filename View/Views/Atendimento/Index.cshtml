
@{
    ViewBag.Title = "Index";
}
<div class="row">
    <div class="col-9">
        <h2 class="h2">Atendimentos abertos: @ViewBag.Cargo</h2>
    </div>
    <div class="col-3">
        <a href="/atendimento/escolha" class="btn btn-dark float-right mt-30"><i class="fa fa-plus"></i> Adicionar atendimento</a>
    </div>
</div>
<table class="table table-primary table-hover table-bordered text-dark">
    <thead class="bg-dark">
        <tr>
            <td>Paciente</td>
            <td>Prioridade</td>
            <td>Observação</td>
            <td width="220px">Ação</td>
        </tr>
    </thead>
    <tbody class="font-weight-bold">
        @foreach (Model.Atendimento atendimento in ViewBag.Atendimentos)
        {
            if (atendimento.Paciente.Lingua != 0)
            {
                <tr class="bg-indigo-500">
                    <td>@atendimento.Paciente.Nome</td>
                    @if (atendimento.Prioridade == 0)
                    {
                        <td>Não definido</td>
                    }
                    else
                    {
                        if (atendimento.Prioridade == 3)
                        {
                            <td>Alto</td>

                        }
                        else
                        if (atendimento.Prioridade == 2)
                        {
                            <td>Medio</td>

                        }
                        else
                        if (atendimento.Prioridade == 1)
                        {
                            <td>Baixo</td>

                        }
                    }
                    @if (atendimento.Observacao == null)
                    {
                        <td>Nulo</td>
                    }
                    else if (atendimento.Observacao.Length <= 41)
                    {
                        <td>@atendimento.Observacao </td>
                    }
                    else
                    {
                        <td>A observação atingiu o limite maximo</td>
                    }
                    <td>
                        <a class="btn btn-light" href="/atendimento/alterar?id=@atendimento.Id"><i class="fa fa-bookmark"></i> Atender</a>
                    </td>
                </tr>
            }
            else if (atendimento.Prioridade == 3)
            {
                <tr class="bg-red-500">
                    <td>@atendimento.Paciente.Nome</td>
                    <td>Alto</td>
                    @if (atendimento.Observacao == null)
                    {
                        <td>Nulo</td>
                    }
                    else if (atendimento.Observacao.Length <= 40)
                    {

                        <td>@atendimento.Observacao </td>
                    }
                    else
                    {
                        <td>A observação atingiu o limite maximo</td>
                    }
                    <td>
                        <a class="btn btn-info" href="/atendimento/alterar?id=@atendimento.Id"><i class="fa fa-bookmark"></i> Atender</a>
                    </td>
                </tr>
            }
            else if (atendimento.Prioridade == 2)
            {
                <tr class="bg-yellow-500">
                    <td hidden>@atendimento.Id</td>
                    <td>@atendimento.Paciente.Nome</td>
                    <td>Medio</td>
                    @if (atendimento.Observacao == null)
                    {
                        <td>Nulo</td>
                    }
                    else if (atendimento.Observacao.Length <= 40)
                    {

                        <td> @atendimento.Observacao </td>
                    }
                    else
                    {
                        <td> A observação atingiu o limite maximo </td>
                    }

                    <td>
                        <a class="btn btn-info" href="/atendimento/alterar?id=@atendimento.Id">
                            <i class="fa fa-bookmark"></i> Atender
                        </a>
                    </td>
                </tr>
            }
            else if (atendimento.Prioridade == 1)
            {
                <tr>
                    <td hidden>@atendimento.Id</td>
                    <td>@atendimento.Paciente.Nome</td>
                    <td>Baixo</td>
                    @if (atendimento.Observacao == null)
                    {
                        <td>Nulo</td>
                    }
                    else if (atendimento.Observacao.Length <= 40)
                    {

                        <td>@atendimento.Observacao </td>
                    }
                    else
                    {
                        <td>A observação atingiu o limite maximo</td>
                    }n
                    <td>
                        <a class="btn btn-info" href="/atendimento/alterar?id=@atendimento.Id"><i class="fa fa-bookmark"></i> Atender</a>
                    </td>
                </tr>

            }
            else if (atendimento.Prioridade == 0)
            {
                <tr>
                    <td hidden>@atendimento.Id</td>
                    <td>@atendimento.Paciente.Nome</td>
                    <td>Não Definido</td>
                    @if (atendimento.Observacao == null)
                    {
                        <td>Nulo</td>
                    }
                    else if (atendimento.Observacao.Length <= 40)
                    {

                        <td>@atendimento.Observacao </td>
                    }
                    else
                    {
                        <td>A observação atingiu o limite maximo</td>
                    }
                    <td>
                        <a class="btn btn-info" href="/atendimento/alterar?id=@atendimento.Id"><i class="fa fa-bookmark"></i> Atender</a>
                    </td>
                </tr>

            }

        }
    </tbody>


</table>

